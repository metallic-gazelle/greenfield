<html ng-app='djBooth'>
<!-- setting dependencies -->
<script src='../bower_components/angular/angular.js'></script>
<script src="../bower_components/angular-route/angular-route.js"></script>
<script src="../bower_components/jquery/dist/jquery.min.js"></script>
<script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="../bower_components/underscore/underscore.js"></script>
<!-- UI select components -->
<script src="../bower_components/angular-ui-select/dist/select.js"></script>
<script src="../bower_components/angular-sanitize/angular-sanitize.js"></script>
<link rel="stylesheet" href="../bower_components/angular-ui-select/dist/select.css">
<!-- JS components -->
<script type="text/javascript" src="../js/app.js"></script>
<script type="text/javascript" src="../js/controllers.js"></script>
<script type="text/javascript" src="../js/factories.js"></script>
<link rel='stylesheet' type='text/css' href='../bower_components/bootstrap/dist/css/bootstrap.css'>

<head>
    <meta charset="utf-8" />
    <title>Spotisound</title>
</head>
<body ng-controller='searchController' class=" jumbotron center-block text-center">
    <div ng-controller='playerController'>
        <iframe id="player" width="420" height="315"
        src="http://www.youtube.com/embed/M7lc1UVf-VE">
        </iframe>
    </div>

    <script>
    //   // 2. This code loads the IFrame Player API code asynchronously.
    //   var tag = document.createElement('script');

    //   tag.src = "https://www.youtube.com/iframe_api";
    //   var firstScriptTag = document.getElementsByTagName('script')[0];
    //   firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    //   // 3. This function creates an <iframe> (and YouTube player)
    //   //    after the API code downloads.
    //   var player;
    //   function onYouTubeIframeAPIReady() {
    //     player = new YT.Player('player', {
    //       height: '390',
    //       width: '640',
    //       videoId: 'M7lc1UVf-VE',
    //       events: {
    //         'onReady': onPlayerReady,
    //         'onStateChange': onPlayerStateChange
    //       }
    //     });
    //   }

    //   // 4. The API will call this function when the video player is ready.
    //   function onPlayerReady(event) {
    //     event.target.playVideo();
    //   }

    //   // 5. The API calls this function when the player's state changes.
    //   //    The function indicates that when playing a video (state=1),
    //   //    the player should play for six seconds and then stop.
    //   var done = false;
    //   function onPlayerStateChange(event) {
    //     if (event.data === 0) {
    //         console.log("Video Ended");

    //         done = true;
    //     }
    //   }
    //   function stopVideo() {
    //     player.stopVideo();
    //   }
    </script>
    <div class='container-fluid'>
        <h1>#PartyRoom</h1>
        <!-- <form name='searchForm' class='form-inline'>
            <input type='text' class='form-control' ng-model='song' placeHolder='Select a song' update-search="getSong(song)">
        </form>
 -->
        <!-- search field -->
        <!-- <p>selected: {{result.selected.song_name}}</p> -->
        <ui-select ng-model='result.selected'  on-select='selectSong(result.selected)'  theme="bootstrap" ng-disabled="false" reset-search-input="false" uiSelectConfig.appendToBody = true; style="width: 300px;">
            <ui-select-match placeholder="Enter a song...">{{$select.selected.song_name}}</ui-select-match>
            <ui-select-choices repeat="result in results |limitTo:10" refresh="getSongs($select.search)" refresh-delay="0">
                <div ng-bind-html="result.song_name + '-' + result.artists[0] |highlight: $select.search"></div>
            </ui-select-choices>
        </ui-select>

        <!-- playlist -->
        <div class='panel panel-primary'>
            <div class='panel-heading'>
                <h3 class='panel-title'> Playlist</h3>
            </div>
            <ul class='panel body list-unstyled'>
                <!-- 'this is where the playlist is' -->
                <li ng-repeat="song in playList" class="row-fluid inline ">
                    <p>
                        <div>{{song.song_name}} -{{song.artists[0]}} {{song.votes}}
                            <span  ng-click='upVote()'class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
                            <span ng-click='downVote()'class="glyphicon glyphicon-thumbs-down" aria-hidden="true"></span>
                        </div>
                    </p>
                </li>
            </ul>
        </div>
    </div>
</body>

</html>
